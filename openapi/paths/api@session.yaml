get:
  operationId: apiSessionGet
  tags: [session]
  summary: Create a user session via data in the query string
  description: |
    Attempt to authenticate a user based on a JWT passed in the query string.
  security:
    - none: []
  responses:
    '200':
      $ref: ../components/responses/authenticated-user.yaml
    '302':
      $ref: ../components/responses/authenticated-redirect.yaml
    default:
      $ref: ../components/responses/problem.yaml
  parameters:
    - name:        jwt
      in:          query
      description: Provide a JWT generated via an oAuth request.
      required:    true
      schema:
        type: string


post:
  operationId: apiSessionPost
  tags: [session]
  summary: Create a user session via data in the request body
  description: |
    Attempt to authenticate a user based on either a username/password pair, or
    a JWT passed in form data.
  security:
    - none: []
  responses:
    '200':
      $ref: ../components/responses/authenticated-user.yaml
    '302':
      $ref: ../components/responses/authenticated-redirect.yaml
    default:
      $ref: ../components/responses/problem.yaml
  requestBody:
    content:
      application/x-www-form-urlencoded:
        schema:
          oneOf:
            - type: object
              description: Username/Password
              properties:
                username:
                  description: The user who logged into the device
                  type: string
                  required: true
                password:
                  description: The users password who logged into the device
                  type: string
                  required: true
            - type: object
              description: JWT
              properties:
                jwt:
                  description: Optionally you may provide a JWT generated via an oAuth request instead of a username/password pair.
                  type: string
                  required: true

